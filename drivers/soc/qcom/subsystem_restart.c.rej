diff a/drivers/soc/qcom/subsystem_restart.c b/drivers/soc/qcom/subsystem_restart.c	(rejected hunks)
@@ -640,9 +654,13 @@ static int subsystem_shutdown(struct subsys_device *dev, void *data)
 			current->comm, current->pid, name);
 	ret = dev->desc->shutdown(dev->desc, true);
 	if (ret < 0) {
-		if (!dev->desc->ignore_ssr_failure)
+		if (!dev->desc->ignore_ssr_failure){
+#ifdef CONFIG_LGE_HANDLE_PANIC
+			lge_set_subsys_crash_reason(name, LGE_ERR_SUB_SD);
+#endif
 			panic("subsys-restart: [%s:%d]: Failed to shutdown %s!",
 			current->comm, current->pid, name);
+		}
 		else {
 			pr_err("Shutdown failure on %s\n", name);
 			return ret;
@@ -690,9 +708,13 @@ static int subsystem_powerup(struct subsys_device *dev, void *data)
 			|| system_state == SYSTEM_POWER_OFF)
 			WARN(1, "SSR aborted: %s, system reboot/shutdown is under way\n",
 				name);
-		else if (!dev->desc->ignore_ssr_failure)
+		else if (!dev->desc->ignore_ssr_failure){
+#ifdef CONFIG_LGE_HANDLE_PANIC
+			lge_set_subsys_crash_reason(name, LGE_ERR_SUB_PWR);
+#endif
 			panic("[%s:%d]: Powerup error: %s!",
 				current->comm, current->pid, name);
+		}
 		else
 			pr_err("Powerup failure on %s\n", name);
 		return ret;
